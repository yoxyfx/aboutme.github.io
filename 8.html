<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable with Boundaries</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-color: #f0f0f0;
        }

        .container {
            position: relative;
            width: 800px;
            height: 600px;
            border: 2px solid #333;
            overflow: hidden;
        }

        .draggable {
            position: absolute;
            cursor: grab;
        }

        .draggable:active {
            cursor: grabbing;
        }

        .fixed-card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 200px;
            background-color: #007bff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
        }

        button.redirect-button {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button class="redirect-button" onclick="window.location.href='index.html'">Go to Index</button>

    <div class="container">
        <img src="img/Asset 12.png" class="draggable" style="width: 200px; height: auto; top: 50px; left: 50px;">
        <div class="draggable" style="width: 100px; height: 100px; background: red; top: 100px; left: 200px;"></div>
        <div class="fixed-card">Fixed Card</div>
    </div>

    <script>
        // Make elements draggable within the container
        document.querySelectorAll('.draggable').forEach(element => {
            element.addEventListener('mousedown', (event) => {
                const container = document.querySelector('.container');
                const containerRect = container.getBoundingClientRect();
                const elementRect = element.getBoundingClientRect();

                let shiftX = event.clientX - elementRect.left;
                let shiftY = event.clientY - elementRect.top;

                const moveAt = (pageX, pageY) => {
                    let newX = pageX - shiftX - containerRect.left;
                    let newY = pageY - shiftY - containerRect.top;

                    // Boundary conditions
                    if (newX < 0) newX = 0;
                    if (newY < 0) newY = 0;
                    if (newX + elementRect.width > containerRect.width) {
                        newX = containerRect.width - elementRect.width;
                    }
                    if (newY + elementRect.height > containerRect.height) {
                        newY = containerRect.height - elementRect.height;
                    }

                    element.style.left = newX + 'px';
                    element.style.top = newY + 'px';
                };

                const onMouseMove = (event) => {
                    moveAt(event.pageX, event.pageY);
                };

                document.addEventListener('mousemove', onMouseMove);

                element.addEventListener('mouseup', () => {
                    document.removeEventListener('mousemove', onMouseMove);
                    element.onmouseup = null;
                });
            });

            element.ondragstart = () => false; // Disable default drag behavior
        });
    </script>
</body>
</html>
