<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            background-color: bisque;
        }

        #container {
            position: relative;
            top: 100px;
            width: 750px;
            height: 750px;
            margin: auto;
            border: solid;
            box-shadow: -10px 10px 5px gray;
        }

        .piece {
            width: 250px;
            cursor: pointer;
            position: absolute;
        }

        /* 추가적인 스타일 (선택 사항) */
        img {
            width: 250px;
            height: auto;
        }

    </style>
</head>
<body>
    <button class="redirect-button" onclick="window.location.href='index.html'">Go to Index</button>
    <div id="container">
        <!-- 드래그 가능한 이미지들 -->
        <img src="img/Layer 1.png" class="piece" id="img1" draggable="true">
        <img src="img/Layer 2.png" class="piece" id="img2" draggable="true">
        <img src="img/Layer 3.png" class="piece" id="img3" draggable="true">
        <img src="img/Layer 4.png" class="piece" id="img4" draggable="true">
        <img src="img/Layer 5.png" class="piece" id="img5" draggable="true">
        <img src="img/Layer 6.png" class="piece" id="img6" draggable="true">
        <img src="img/Layer 7.png" class="piece" id="img7" draggable="true">
        <img src="img/Layer 8.png" class="piece" id="img8" draggable="true">
        <img src="img/Layer 9.png" class="piece" id="img8" draggable="true">
    </div>

    <script>
        // 드래그 앤 드롭 기능 구현
        const pieces = document.querySelectorAll('.piece');

        pieces.forEach(piece => {
            piece.addEventListener('dragstart', dragStart);
            piece.addEventListener('dragend', dragEnd);
        });

        function dragStart(e) {
            this.style.opacity = '0.4';
            e.dataTransfer.setData('text', this.id);
        }

        function dragEnd() {
            this.style.opacity = '1';
        }

        // 컨테이너에 드래그된 이미지를 놓을 수 있도록 설정
        const container = document.getElementById('container');
        container.addEventListener('dragover', dragOver);
        container.addEventListener('drop', drop);

        function dragOver(e) {
            e.preventDefault(); // 드롭 가능하도록 허용
        }

        function drop(e) {
            e.preventDefault();
            const data = e.dataTransfer.getData('text');
            const draggedPiece = document.getElementById(data);
            
            // 드래그된 이미지를 컨테이너 내에서 새로운 위치로 이동
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left - draggedPiece.offsetWidth / 2;
            const y = e.clientY - rect.top - draggedPiece.offsetHeight / 2;

            draggedPiece.style.left = `${x}px`;
            draggedPiece.style.top = `${y}px`;
        }
    </script>
</body>
</html>
